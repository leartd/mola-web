<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Mola{{title}}</title>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
		
		<!-- Local Copy -->
		<!-- <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css"> -->

		<!-- Local Copy -->
		<link rel="stylesheet" type="text/css" href="/static/main.css">

		<!-- Optional theme -->
		<!-- <link rel="stylesheet" type="text/css" href="/static/lavish-bootstrap.css"> -->
		
		<!-- Script for form error handling -->
		<script src="/static/scripts/formError.js" type="text/javascript"></script>
	</head>
	<body onLoad="initialize();">
		
		<nav class="navbar navbar-inverse navbar-fixed-top mola-nav" style = "margin-bottom: 20px;">
		  <div class="container">
			<div class="navbar-header">
			  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			  </button>
			  <a class="navbar-brand" href="/">Mola</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<form action="/search" method="post">
					<ul class="nav navbar-nav">
						<li class="nav-mola" style="padding-left: 5px;">
							<input name="search-query" type="text" placeholder="Search...">
							<input name="street-num" type="hidden">
							<input name="route" type="hidden">
							<input name="locality" type="hidden">
							<input name="administrative_area_level_1" type="hidden">
							<input name="country" type="hidden">
							<input name="postal_code" type="hidden">
						</li>
						<li class="nav-mola"><input class="btn btn-xs btn-primary" style="font-size:15px;" type="submit" value="Search Mola"></li>
						<!-- 
						<li><a href="#about">About</a></li>
						<li><a href="#contact">Contact</a></li> -->
					</ul>

				</form>
				<ul class="secondary-nav">
					{% if not login_needed %}
						<li class="nav-mola greeting">Welcome <a href="/history">{{user}}</a></li>
					{% endif %}
					<li class="nav-mola">
						<a class="btn btn-xs btn-primary" href="{{login}}" style="font-size:15px">{% if login_needed %}
							Login
							{% else %}
							Logout
						{% endif %}</a>
					</li>
				</ul>
			</div><!--/.nav-collapse -->

		  </div>

		</nav>
		<div class="container main">
			<!-- Content starts here -->
			{% block content %}
			
			{% endblock content %}
		  <!-- <div class="main">



			<h1>Bootstrap starter template</h1>
			<p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document.</p>
		  </div>
		   -->
		</div>
		<div class="container"> 
			<div class="row footer" style="text-align:center;">
					<p><strong>Mola</strong> by Joseph Hagner, Leart Doko and John Lee. Contact us on <a href="#">Google+</a></p>
			</div>
		</div>

		<!-- /.container -->
		
				<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

		<!-- Local Copy -->
		<!-- // <script src="../jquery/1.11.2/jquery.min.js"></script> -->
		<!-- // <script src="../bootstrap/js/bootstrap.min.js"></script> -->

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->

		<!-- TEEEEEEEEEEEEEEEEEEEEEEEEEEEESSSSSSSSSSSSSSSSSSSSSSTTTTTTTTTT -->
		<!--     <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500"> -->
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyAAlSl0SOVllzOgIEJ93KmC4BUbFRiejLs"></script>
    <script>
    //AIzaSyAAlSl0SOVllzOgIEJ93KmC4BUbFRiejLs PLACES KEY

// This example displays an address form, using the autocomplete feature
// of the Google Places API to help users fill in the information.

var placeSearch, autocomplete;
var componentForm = {
  street_number: 'short_name',
  route: 'long_name',
  locality: 'long_name',
  administrative_area_level_1: 'short_name',
  country: 'long_name',
  postal_code: 'short_name'
};

function initialize() {
  // Create the autocomplete object, restricting the search
  // to geographical location types.
  autocomplete = new google.maps.places.Autocomplete(
      /** @type {HTMLInputElement} */(document.getElementById('autocomplete')),
      { types: ['establishment'] });
  // When the user selects an address from the dropdown,
  // populate the address fields in the form.
  google.maps.event.addListener(autocomplete, 'place_changed', function() {
    fillInAddress();
  });
}

// [START region_fillform]
function fillInAddress() {
  // Get the place details from the autocomplete object.
  var place = autocomplete.getPlace();

  for (var component in componentForm) {
    document.getElementById(component).value = '';
    // document.getElementById(component).disabled = false;
  }

  // Get each component of the address from the place details
  // and fill the corresponding field on the form.
  for (var i = 0; i < place.address_components.length; i++) {
    var addressType = place.address_components[i].types[0];
    if (componentForm[addressType]) {
      var val = place.address_components[i][componentForm[addressType]];
      document.getElementById(addressType).value = val;
    }
  document.getElementById('testing').value = place.name;
  document.getElementById('placeID').value = place.place_id;
  }
}
// [END region_fillform]

// [START region_geolocation]
// Bias the autocomplete object to the user's geographical location,
// as supplied by the browser's 'navigator.geolocation' object.
function geolocate() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var geolocation = new google.maps.LatLng(
          position.coords.latitude, position.coords.longitude);
      var circle = new google.maps.Circle({
        center: geolocation,
        radius: position.coords.accuracy
      });
      autocomplete.setBounds(circle.getBounds());
    });
  }
}
// [END region_geolocation]

    </script>
	</body>
</html>

